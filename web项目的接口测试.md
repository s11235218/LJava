# web项目的接口测试:

### Java中使用第三方的一些框架完成接口测试:

1. http客户端工具:做请求http服务器的接口(设置请求参数,获取响应数据[状态码,消息,响应体])

- JDK:URLConnection
- 第三方工具: apache httpclient/htmlunit/springboot中restTemplate

2. 数据解析工具:使用json数据时,可以使用jackson,gson,fastjson来进行解析

3. 单元测试工具:junit(@Test + Assert),mockito,jmock

*使用框架时,例如springmvc,框架会提供专业测试框架*

## JVM

<img src="C:\Users\Administrator\Documents\Tencent Files\1204968780\FileRecv\JDK1.8内存模型.png" alt="JDK1.8内存模型" style="zoom:40%;" />

### 线程私有的内存区域

**程序计数器:**一块较小的内存空间(可看作当前线程所执行的字节码的行号指示器)

**Java虚拟机栈:**

1. 和线程相关,不同线程内,即使运行同一个方法,也处于不同内存

2. 和方法有关,即使是同一个线程,递归调用某个方法,每次调用都会生成该次方法调用的方法栈桢.

每个方法执行的时候,都会创建一个栈帧用于储存局部变量表,操作数栈.每一个方法从调用直至执行完成的过程,就对应一个栈帧在虚拟机栈中入栈和出栈的过程.

**会产生的异常:**

1. 如果线程请求的栈深度大于虚拟机所允许的深度,将会抛出StackOverFlowError异常

- (方法调用太深,比如递归,每次调用都是一次入栈,入栈数量太多,就会抛出这个异常)

2. 虚拟机在动态扩展时无法申请到足够的内存,会抛出OOM(OutOfMemoryError)异常

- 内存溢出:应用系统中存在无法回收的内存或使用的内存过多,最终使得程序运行要用的内存大于能提供的最大内存

  > 结果:此时程序运行不了,系统会提示内存溢出,进程都会挂掉,情况严重(此内容来自百度百科)
  >
  > 线程调用方法,创建方法该次调用的栈帧,内存不足抛出OOM

  

- 内存泄漏:是指程序中以动态分配的堆内存由于某种原因程序未释放或无法释放,造成系统内存浪费,导致程序运行速度减慢甚至系统崩溃等严重后果.

  > - 一般出现内存泄露场景:长生命周期存活的对象,内部持有不使用对象的引用,导致不使用的垃圾对象无法回收
  >
  > - 一般程序经常会出现内存泄漏的现象,在使用长期存活的数据结构,数组时,都要考虑对象引用导致内存泄漏的问题
  > - 内存泄漏就是内存无法及时或者无法回收导致内存越来越小,最终导致内存溢出



Class文件常量池,运行时常量池:*Java文件通过javac命令编译成class文件*

> - Class文件中除了有类的版本,字段,方法,接口等描述信息外,还有一项是常量池,用于存放编译期生成的各种字面量和符号引用,这部分内容将在类加载后进入方法区的运行时常量池中存放
> - 编译时生成的信息,要在运行后,类加载时把变量和对象的引用在内存中关联起来,编译时无法关联,所以使用符号引用间接关联

类加载:

1. 编译期及运行期间产生的常量(基本类型,包装类和String,其中包装类不管理浮点型,整型只会管理-128--127)被放在常量池中

2. 类加载时,会查询字符串常量池,以保证运行时常量池所引用的字符串与字符串常量池中是一致的

>初始化和类加载:
>
>某个类初始化:
>
>某个对象初始化:
>
>类加载:

类的生命周期:

加载--验证--准备--解析--初始化--使用--卸载







